<!DOCTYPE html>
<html>
<head>
    <title>Student Dashboard</title>
</head>
<body>

<h1>Student Dashboard</h1>

<h2>Available Courses</h2>
<ul>
    {% for c in courses %}
        <li>
            {{ c.name }} —
            Teacher: {{ c.teacher.realname if c.teacher else "None" }} —
            {{ c.time }} —
            {{ c.cur_students }} / {{ c.max_students }}
            <form method="GET" action="/enroll/{{ c.id }}">
                <button type="submit">Enroll</button>
            </form>
        </li>
    {% endfor %}
</ul>

<h2>My Enrollments</h2>
<ul>
    {% for e in my_enrollments %}
        <li>
            {{ e.course.name }} —
            Teacher: {{ e.course.teacher.realname if e.course.teacher else "None" }} —
            Grade: {{ e.grade }} —
            {{ e.course.cur_students }} / {{ e.course.max_students }}
            <form method="POST" action="/enroll/{{ e.course_id }}">
                <button type="submit">Unenroll</button>
            </form>
        </li>
    {% endfor %}
</ul>

</body>
</html>

